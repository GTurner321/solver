<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equation Solver</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin: 0;
            height: 100vh;
            background-color: #f4f4f4;
        }

        .score {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 24px;
            font-weight: bold;
        }

        .equation {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
        }

        .box-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .box {
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid black;
            font-size: 20px;
            font-weight: bold;
            background-color: white;
        }

        .box.light-blue {
            background-color: lightblue;
        }

        .box.blue {
            background-color: #add8e6;
        }

        .feedback {
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
        }

        .feedback.correct {
            color: green;
        }

        .feedback.wrong {
            color: red;
        }

        .draggable-container {
            display: flex;
            flex-direction: column;
            position: absolute;
            right: 50px;
            gap: 10px;
        }

        .draggable-column {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .draggable {
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid black;
            font-size: 20px;
            font-weight: bold;
            background-color: #add8e6;
            cursor: pointer;
        }

        .draggable.symbol {
            background-color: lightblue;
        }
    </style>
</head>
<body>
    <div class="score">Score = 0</div>

    <div class="equation">2x + 1 = 9</div>
    <div class="box-container">
        <div class="box light-blue" id="box1-1" ondrop="drop(event, 1, 1)" ondragover="allowDrop(event)"></div>
        <div class="box blue" id="box1-2" ondrop="drop(event, 1, 2)" ondragover="allowDrop(event)"></div>
        <div class="box light-blue" id="box1-3" ondrop="drop(event, 1, 3)" ondragover="allowDrop(event)"></div>
        <div class="box blue" id="box1-4" ondrop="drop(event, 1, 4)" ondragover="allowDrop(event)"></div>
    </div>
    <div class="feedback" id="feedback1"></div>

    <div class="equation" id="equation2" style="display: none;">2x = 8</div>
    <div class="box-container" id="row2" style="display: none;">
        <div class="box light-blue" id="box2-1" ondrop="drop(event, 2, 1)" ondragover="allowDrop(event)"></div>
        <div class="box blue" id="box2-2" ondrop="drop(event, 2, 2)" ondragover="allowDrop(event)"></div>
        <div class="box light-blue" id="box2-3" ondrop="drop(event, 2, 3)" ondragover="allowDrop(event)"></div>
        <div class="box blue" id="box2-4" ondrop="drop(event, 2, 4)" ondragover="allowDrop(event)"></div>
    </div>
    <div class="feedback" id="feedback2"></div>

    <div class="equation" id="equation3" style="display: none;">x = 4</div>
    <div class="feedback correct" id="finalFeedback" style="display: none;">Well done! You have solved the equation.</div>

    <div class="draggable-container">
        <div class="draggable-column">
            <div class="draggable symbol" draggable="true" ondragstart="drag(event)" id="minus">-</div>
            <div class="draggable symbol" draggable="true" ondragstart="drag(event)" id="plus">+</div>
            <div class="draggable symbol" draggable="true" ondragstart="drag(event)" id="times">x</div>
            <div class="draggable symbol" draggable="true" ondragstart="drag(event)" id="divide">รท</div>
        </div>
        <div class="draggable-column">
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num1">1</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num2">2</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num3">3</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num4">4</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num5">5</div>
        </div>
        <div class="draggable-column">
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num6">6</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num7">7</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num8">8</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num9">9</div>
            <div class="draggable" draggable="true" ondragstart="drag(event)" id="num10">10</div>
        </div>
    </div>

    <script>
        let score = 0;

        function allowDrop(event) {
            event.preventDefault();
        }

        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }

        function drop(event, row, position) {
            event.preventDefault();
            const data = event.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            const box = event.target;

            if ((row === 1 && position % 2 !== 0 && data === "minus") ||
                (row === 1 && position % 2 === 0 && data === "num1")) {

                if (position % 2 !== 0) {
                    document.getElementById(`box1-1`).textContent = "-";
                    document.getElementById(`box1-3`).textContent = "-";
                } else {
                    document.getElementById(`box1-2`).textContent = "1";
                    document.getElementById(`box1-4`).textContent = "1";
                }

                if (document.getElementById("box1-1").textContent === "-" &&
                    document.getElementById("box1-2").textContent === "1") {
                    document.getElementById("feedback1").textContent = "Correct!";
                    document.getElementById("feedback1").className = "feedback correct";
                    setTimeout(() => {
                        document.getElementById("equation2").style.display = "block";
                        document.getElementById("row2").style.display = "flex";
                        score = 5;
                        document.querySelector(".score").textContent = `Score = ${score}`;
                    }, 1000);
                }
            } else if ((row === 2 && position % 2 !== 0 && data === "divide") ||
                (row === 2 && position % 2 === 0 && data === "num2")) {

                if (position % 2 !== 0) {
                    document.getElementById(`box2-1`).textContent = "รท";
                    document.getElementById(`box2-3`).textContent = "รท";
                } else {
                    document.getElementById(`box2-2`).textContent = "2";
                    document.getElementById(`box2-4`).textContent = "2";
                }

                if (document.getElementById("box2-1").textContent === "รท" &&
                    document.getElementById("box2-2").textContent === "2") {
                    document.getElementById("feedback2").textContent = "Correct!";
                    document.getElementById("feedback2").className = "feedback correct";
                    setTimeout(() => {
                        document.getElementById("equation3").style.display = "block";
                        document.getElementById("finalFeedback").style.display = "block";
                        score = 10;
                        document.querySelector(".score").textContent = `Score = ${score}`;
                    }, 1000);
                }
            } else {
                const feedback = document.getElementById(`feedback${row}`);
                feedback.textContent = "Try again!";
                feedback.className = "feedback wrong";
            }
        }
    </script>
</body>
</html>
